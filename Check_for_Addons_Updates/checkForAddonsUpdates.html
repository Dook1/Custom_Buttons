<!DOCTYPE HTML>
<meta charset="utf-8"/>
<title>Check for Addons Updates [0.1.2 - 2012-10-04]</title>
<body>
<a href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3ECheck%20for%20Addons%20Updates%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABEVBMVEUAAAARdxEcTL9YluZYmelgmeZOkOU4f+BOk+hShdpVh9szmTNHd9MeWckdWMkRdxEfhR9Vu1UdVcYRdxGI7ohHrUcdXMwdWMkcUcMcTsFRgthv1G8zmTNVkuVhleJflOJckeFclONEh+JJkLpNiuFKi+Mpb9g8f95knOdcj99ajd9Lg9xkmeVem+kyiIxonudYidscTL9Kf9g2cdQiY9AjbqdgmeZbleVZmOhCl5Y8ctMmYs4/g+EdZqBmm+VTlOc3a89Bgt9XkeNSjeIZX5pHhuAWZ2w5iY43e905iI0rbqkWZmtYj+FTjOAmaKNQj+Qnc3khYJ0jbNchatZXleZgl+Q4dtg2iZYdaG4cWpZZmeovdSBxAAAAEHRSTlMAgH/MoZXKh52fy4Ccv39AzZGpkwAAALNJREFUeF51j8WuAkEQRXsGf9o2Pri7u7s7T///Q2joBbCgkqrknsW5KfB0rP/OR5CudR+B5WS/BVs2Vqm6t+FAy8FBJ/XlHwxD4350xoHH61utg6geORw5iCeS3z8SlSQpw5Ir91IolsomNSil5isAut5oyrLchghCSCEAb713RZlOlRGZfABCrg6MEcJ4jhZ4KVyBql6MbDcqb9G0nUkps5p7DsR8/pcZEfwTwd0I5JPdM/o+FIGIkY8MAAAAAElFTkSuQmCC%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5B//%20http%3A//infocatcher.ucoz.net/js/cb/checkForAddonsUpdates.js%0A//%20https%3A//github.com/Infocatcher/Custom_Buttons/tree/master/Check_for_Addons_Updates%0A%0A//%20Check%20for%20Addons%20Updates%20button%20for%20Custom%20Buttons%0A//%20%28code%20for%20%22code%22%20section%29%0A%0A//%20%28c%29%20Infocatcher%202012%0A//%20version%200.1.2%20-%202012-10-04%0A%0A//%20Button%20just%20open%20hidden%20tab%20with%20about%3Aaddons%20and%20trigger%20built-in%20%22Check%20for%20Updates%22%20function.%0A//%20And%20show%20tab%2C%20if%20found%20updates.%0A%0Avar%20btn%20%3D%20this%3B%0Aif%28%22_cb_disabled%22%20in%20btn%29%0A%09return%3B%0Avar%20image%20%3D%20btn.image%3B%0Avar%20tip%20%3D%20btn.tooltipText%3B%0Abtn.image%20%3D%20%22chrome%3A//browser/skin/tabbrowser/connecting.png%22%3B%0Abtn.tooltipText%20%3D%20%22Open%20about%3Aaddons%u2026%22%3B%0Abtn._cb_disabled%20%3D%20true%3B%0Avar%20tab%20%3D%20gBrowser.addTab%28%22about%3Aaddons%22%29%3B%0Atab.collapsed%20%3D%20true%3B%0Atab.closing%20%3D%20true%3B%20//%20See%20%22visibleTabs%22%20getter%20in%20chrome%3A//browser/content/tabbrowser.xml%0A%0Avar%20browser%20%3D%20tab.linkedBrowser%3B%0Abrowser.addEventListener%28%22load%22%2C%20function%20load%28e%29%20%7B%0A%09var%20doc%20%3D%20e.target%3B%0A%09if%28doc.location%20%21%3D%20%22about%3Aaddons%22%29%0A%09%09return%3B%0A%09browser.removeEventListener%28e.type%2C%20load%2C%20true%29%3B%0A%0A%09btn.image%20%3D%20%22chrome%3A//browser/skin/tabbrowser/loading.png%22%3B%0A%09btn.tooltipText%20%3D%20doc.getElementById%28%22updates-progress%22%29.getAttribute%28%22value%22%29%3B%0A%0A%09var%20updEnabledPref%20%3D%20%22extensions.update.enabled%22%3B%0A%09var%20updEnabled%20%3D%20cbu.getPrefs%28updEnabledPref%29%3B%0A%09if%28%21updEnabled%29%0A%09%09cbu.setPrefs%28updEnabledPref%2C%20true%29%3B%0A%0A%09doc.getElementById%28%22cmd_findAllUpdates%22%29.doCommand%28%29%3B%0A%0A%09var%20wait%20%3D%20setInterval%28function%28%29%20%7B%0A%09%09var%20inProgress%20%3D%20doc.getElementById%28%22updates-progress%22%29%3B%0A%09%09if%28%21inProgress.hidden%29%0A%09%09%09return%3B%0A%09%09var%20found%20%3D%20doc.getElementById%28%22updates-manualUpdatesFound-btn%22%29%3B%0A%09%09var%20notFound%20%3D%20doc.getElementById%28%22updates-noneFound%22%29%3B%0A%09%09if%28found.hidden%20%26%26%20notFound.hidden%29%20//%20Too%20early%3F%0A%09%09%09return%3B%0A%0A%09%09clearInterval%28wait%29%3B%0A%09%09btn.image%20%3D%20image%3B%0A%09%09btn.tooltipText%20%3D%20tip%3B%0A%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09delete%20btn._cb_disabled%3B%0A%09%09%7D%2C%20500%29%3B%0A%09%09tab.closing%20%3D%20false%3B%0A%0A%09%09if%28%21updEnabled%29%0A%09%09%09cbu.setPrefs%28updEnabledPref%2C%20false%29%3B%0A%0A%09%09if%28%21notFound.hidden%29%20%7B%0A%09%09%09//tab.collapsed%20%3D%20false%3B%0A%09%09%09gBrowser.removeTab%28tab%29%3B%0A%09%09%09Components.classes%5B%22@mozilla.org/alerts-service%3B1%22%5D%0A%09%09%09%09.getService%28Components.interfaces.nsIAlertsService%29%0A%09%09%09%09.showAlertNotification%28%0A%09%09%09%09%09%22chrome%3A//mozapps/skin/extensions/extensionGeneric.png%22%2C%0A%09%09%09%09%09%22Custom%20Buttons%22%2C%0A%09%09%09%09%09notFound.getAttribute%28%22value%22%29%2C%0A%09%09%09%09%09false%2C%20%22%22%2C%20null%0A%09%09%09%09%29%3B%0A%09%09%09return%3B%0A%09%09%7D%0A%09%09tab.collapsed%20%3D%20false%3B%0A%09%09doc.getElementById%28%22categories%22%29.selectedItem%20%3D%20doc.getElementById%28%22category-availableUpdates%22%29%3B%0A%09%09gBrowser.selectedTab%20%3D%20tab%3B%0A%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09doc.defaultView.focus%28%29%3B%0A%09%09%09doc.getElementById%28%22addon-list%22%29.focus%28%29%3B%0A%09%09%7D%2C%200%29%3B%0A%09%7D%2C%2050%29%3B%0A%7D%2C%20true%29%3B%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E"
>Install</a>
<script type="text/javascript">
var a = document.getElementsByTagName("a")[0];
a.title = document.title;
if(/%3Cimage%3E%3C%21%5BCDATA%5B(data%3A\S+)%5D%5D%3E%3C\/image%3E/.test(a.href)) {
	var icon = decodeURIComponent(RegExp.$1);

	var img = document.createElement("img");
	img.src = icon;
	img.alt = "";
	img.style.verticalAlign = "middle";
	img.style.marginRight = "4px";
	a.insertBefore(img, a.firstChild);

	var link = document.createElement("link");
	link.rel = "shortcut icon";
	link.href = icon;
	document.documentElement.insertBefore(link, document.documentElement.firstChild);
}
</script>
</body>